
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upgrading with nRF Connect for Mobile &#8212; Test repo  documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="OTA-DFU with nRF Connect" href="updating_firmware.html" />
    <link rel="prev" title="Preparing for OTA-DFU" href="preparing.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="updating_firmware.html" title="OTA-DFU with nRF Connect"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="preparing.html" title="Preparing for OTA-DFU"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Test repo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="ota_dfu.html" accesskey="U">Over-the-air device firmware update (OTA-DFU)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Upgrading with nRF Connect for Mobile</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="upgrading-with-nrf-connect-for-mobile">
<h1>Upgrading with nRF Connect for Mobile<a class="headerlink" href="#upgrading-with-nrf-connect-for-mobile" title="Permalink to this headline">¶</a></h1>
<p>Prepare your device for DFU by replacing the existing
bootloader with the one that uses your public key.</p>
<ul class="simple">
<li><p>Build a new bootloader by compiling the Bootloader project using
either Keil μVision or GCC.</p></li>
<li><p>Program the compiled bootloader onto the device. Remember to program
the <strong>Soft Device</strong> as well for the OTA-DFU to function properly.</p></li>
<li><p>Copy the <cite>public_key.c</cite> file to
<cite>&lt;InstallFolder&gt;\project\bootloader_secure\dfu_public_key.c</cite>.</p></li>
</ul>
<p>The following procedure requires a phone or tablet with <a class="reference external" href="https://www.nordicsemi.com/eng/Products/Nordic-mobile-Apps/nRF-Connect-for-mobile-previously-called-nRF-Master-Control-Panel">nRF
Connect for mobile</a> installed to run DFU.</p>
<ol class="arabic simple">
<li><p>Transfer the zip package that will be used for DFU to your phone.</p></li>
<li><p>Power on the device and open nRF Connect on your phone.</p></li>
<li><p>Tap <strong>Scan</strong> and select your device from the list
of discovered devices.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The discovered devices list is not automatically refreshed when they
stop advertising. If you have problems connecting to a device from
the list, refresh the list.</p>
</div>
<a class="reference internal image-reference" href="_images/image3.png"><img alt="_images/image3.png" class="align-center" src="_images/image3.png" style="width: 1.84in; height: 3.28in;" /></a>
<div class="section" id="activating-dfu-mode">
<h2>Activating DFU mode<a class="headerlink" href="#activating-dfu-mode" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="4">
<li><p>Expand the Secure DFU Service section. There are two icons to the
right of the DUF Control Point area.</p>
<ol class="loweralpha simple">
<li><p>Tap the icon to the right to turn notifications on/off.</p></li>
<li><p>Tap the icon to the left to enable bootloader (DFU)
mode. Tap <strong>OK</strong> when prompted to reset the device.</p></li>
</ol>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The device now enters DFU mode. Go to the <strong>Scanner</strong> tab and start
scanning. A device with the same name but “DFU” added appears in the list of
discovered devices.</p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/image1.png"><img alt="image1" class="align-middle" src="_images/image1.png" style="width: 1.86in; height: 3.31in;" /></a></p></td>
<td><p><a class="reference internal" href="_images/image2.png"><img alt="image2" class="align-middle" src="_images/image2.png" style="width: 1.87in; height: 3.33in;" /></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="running-dfu">
<h2>Running DFU<a class="headerlink" href="#running-dfu" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="4">
<li><p>Connect to the new device by tapping the DFU icon.</p></li>
</ol>
<div class="section" id="uploading-the-zip-file">
<h3>Uploading the ZIP file<a class="headerlink" href="#uploading-the-zip-file" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple" start="5">
<li><p>Select <strong>Distribution packet (ZIP)</strong> and navigate to the package that
you uploaded earlier.</p></li>
</ol>
<a class="reference internal image-reference" href="_images/image4.png"><img alt="_images/image4.png" class="align-center" src="_images/image4.png" style="width: 1.88in; height: 3.36in;" /></a>
<ol class="arabic simple" start="6">
<li><p>The package is now uploaded to the device</p></li>
</ol>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Upgrading with nRF Connect for Mobile</a><ul>
<li><a class="reference internal" href="#activating-dfu-mode">Activating DFU mode</a></li>
<li><a class="reference internal" href="#running-dfu">Running DFU</a><ul>
<li><a class="reference internal" href="#uploading-the-zip-file">Uploading the ZIP file</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="preparing.html"
                        title="previous chapter">Preparing for OTA-DFU</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="updating_firmware.html"
                        title="next chapter">OTA-DFU with nRF Connect</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/upgrade.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="updating_firmware.html" title="OTA-DFU with nRF Connect"
             >next</a> |</li>
        <li class="right" >
          <a href="preparing.html" title="Preparing for OTA-DFU"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Test repo  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="ota_dfu.html" >Over-the-air device firmware update (OTA-DFU)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Upgrading with nRF Connect for Mobile</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Nordic Semiconductor.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>